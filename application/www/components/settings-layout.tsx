'use client';

import { useRouterStore, Route } from './router';
import { Flex, Center, Box, Tabs, HStack, Separator } from '@chakra-ui/react';
import { useLanguage } from "@/contexts/language-context";
import {
    LuKeyboard, LuRocket, LuLightbulb, LuCpu, LuGamepad,
    //  LuWifi, LuMonitor, LuChartSpline 
} from 'react-icons/lu';
import { navigationEvents } from '@/lib/event-manager';
import { LanguageSwitcher } from '@/components/language-switcher'
import { FinishConfigButton } from './finish-config-button';
import { useGamepadConfig } from '@/contexts/gamepad-config-context';
// import { ColorModeSwitcher } from "@/components/color-mode-switcher";

export function SettingsLayout({ children }: { children: React.ReactNode }) {
    const { t } = useLanguage();
    const { currentRoute, setRoute } = useRouterStore();
    
    const { finishConfigDisabled } = useGamepadConfig();

    const tabs = [
        { id: 'global' as Route, label: t.SETTINGS_TAB_GLOBAL, icon: LuGamepad },
        { id: 'keys' as Route, label: t.SETTINGS_TAB_KEYS, icon: LuKeyboard },
        { id: 'buttons-performance' as Route, label: t.SETTINGS_TAB_BUTTONS_PERFORMANCE, icon: LuRocket },
        { id: 'lighting' as Route, label: t.SETTINGS_TAB_LEDS, icon: LuLightbulb },
        // { id: 'switch-marking' as Route, label: t.SETTINGS_TAB_SWITCH_MARKING, icon: LuChartSpline },
        { id: 'firmware' as Route, label: t.SETTINGS_TAB_FIRMWARE, icon: LuCpu },
        // { id: 'websocket' as Route, label: 'WebSocket测试', icon: LuWifi },
        // { id: 'button-monitor' as Route, label: '按键监控测试', icon: LuMonitor },
    ];

    const handleValueChange = async (details: { value: string }) => {
        const canNavigate = await navigationEvents.emit(details.value as Route);
        if (canNavigate) {
            await setRoute(details.value as Route);
        }
    };

    return (
        <Flex direction="column" height="100%" flex={1} >

            {/* 添加语言切换按钮 */}
            <HStack
                w="full"
                gap={4}
                top={"8px"}
                right={4}
                zIndex={1}
                justifyContent="space-between"
                bg="bg.muted"
                boxShadow="0 1px 3px rgba(0, 0, 0, 0.4)"
                padding="7px 10px 7px 7px"
            >
                <HStack justifyContent="flex-start" >
                    <Box padding="0 56px" >
                        <svg id="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 587.95 157.5" height="38px" width="auto" fill="#e0e0e0"  >
                            <title>logo</title><path d="M189,154c5.79-12.66,11.15-24.39,16.86-36.86l-16.8.81c.77-6.75,1.43-13.05,2.22-19.34,1.58-12.6,3.34-25.17,4.8-37.78.36-3.16,1.43-4.57,4.73-4.64,3.77-.08,7.53-.68,12-1.13-.46,4.74-.78,8.88-1.29,13-1.12,9.06-2.39,18.11-3.46,27.19-.13,1.1.63,2.3,1,3.46.76-1.1,2-2.13,2.19-3.3,1.55-11.36,2.92-22.74,4.33-34.11.47-3.77.92-7.55,1.45-11.91l-19.92,1.36c.79-5.7,1.43-11,2.35-16.29.12-.69,1.55-1.35,2.49-1.65a39.29,39.29,0,0,1,4.9-.87c-1.56-6.73-3.05-13.15-4.66-20.07,5.6-.53,10.59-1.14,15.59-1.32.88,0,2.3,1.65,2.65,2.79,1.42,4.56,2.39,9.26,3.8,13.82.36,1.16,1.79,2.85,2.64,2.8,1.47-.09,3.57-1,4.18-2.17,2.7-5.2,5.14-10.56,7.31-16C239.45,9.06,241,8,243.8,7.87c4.46-.19,8.91-.75,14.26-1.23-3.12,7.47-5.92,14.19-8.91,21.34h6.79c-.71,5.72-1.24,11.05-2.16,16.31-.13.76-2.06,1.55-3.24,1.72-4.59.64-9.24.92-13.83,1.6-1,.15-2.61,1.3-2.73,2.15-2,15.13-3.88,30.29-5.73,45.45-.06.48.26,1,1.43,1.93a11.28,11.28,0,0,0,1.5-3.14c1.68-12.29,3.42-24.58,4.75-36.92.39-3.55,1.87-4.71,5.09-4.82,2.72-.1,5.45-.36,8.15-.72,3-.4,3.91.85,3.54,3.71-2.4,18.26-4.8,36.52-7.05,54.8-.33,2.65-1.63,3.42-4,3.59-3.95.28-7.89.85-11.84,1a5.71,5.71,0,0,0-5.61,3.79c-4.47,9.81-9.19,19.51-13.6,29.35-1.5,3.35-3.47,5.1-7.31,5.13C198.87,152.93,194.41,153.54,189,154Z" transform="translate(-2.51 -2.28)" /><path d="M296.27,130.89c-.15,8.75-.22,12.63-.22,12.63-.09,1.6-5.08,1.72-8.77,1.91-7.33.38-14.63,1.18-22.59,1.86-.27-5.34-.68-10.2-.59-15,0-.83,2.2-2.3,3.38-2.29,4.83,0,8.15-.25,8.36-5,.27-6.23,2.06-13.58,2.06-20.26-6.36-1.2-8.38-.9-9.53,4.62a96.16,96.16,0,0,1-4.51,15.58c-2.71,6.84-6.17,13.38-9.14,20.13a5.09,5.09,0,0,1-4.9,3.47c-5,.3-9.94.86-15.76,1.38,1.93-4.42,3.18-8.19,5.12-11.56,8.56-14.83,10.81-31.19,12.55-47.84,2-19,4.74-37.89,7-56.85.36-3,1.51-4.3,4.58-4.43,4.74-.19,9.46-.75,14.94-1.22-.61,6.29-1.17,12-1.72,17.69,7.61,1.61,7.53.48,8.12-4.44.65-5.39.79-10.92,1.56-17l-17.35,1.27c3.57-6.68,6.65-12.5,9.83-18.27a2.45,2.45,0,0,1,1.74-.88c8.8-.89,17.61-1.72,26.93-2.61a37.32,37.32,0,0,1,0,4c-2.8,29.56-6.44,61.62-9,90.91-.38,6.32-1.53,24.22-2,30.63ZM281.61,66c-.31-.43-1.25-1.47-1.56-1.9-2,.82-5.51,1.3-5.8,2.52-1.39,6-1.94,12.2-2.78,18.33,9.54,1.29,8.79.63,9.1-4.45S281.32,70.81,281.61,66Z" transform="translate(-2.51 -2.28)" /><path d="M189.77,94.8c-1.23,3.47-2.11,6.13-3.1,8.76-6.09,16-12.31,32.05-18.24,48.15-1.23,3.35-3,4.66-6.49,4.77-5.14.16-10.26.8-16.19,1.31,1-2.84,1.71-5.09,2.55-7.3,6.36-16.81,12.79-33.61,19.06-50.46.89-2.37,2.13-3.46,4.67-3.63C177.68,96,183.32,95.4,189.77,94.8Z" transform="translate(-2.51 -2.28)" /><path d="M191,89.73c-7.16.64-13.23,1.27-19.31,1.63A3.42,3.42,0,0,1,169,89.59C165.23,78.84,161.61,68,157.7,56.52c6.82-.66,13-1.33,19.16-1.78a3.06,3.06,0,0,1,2.45,1.53C183.2,67.11,186.94,78,191,89.73Z" transform="translate(-2.51 -2.28)" /><path d="M162.5,15.46c6.94-.62,13-1.23,19.09-1.63A3.07,3.07,0,0,1,184,15.31c3.87,10.56,7.6,21.18,11.65,32.61-5.25.53-9.76,1-14.27,1.43C174,50,174,50,171.65,42.88,168.71,34,165.73,25.11,162.5,15.46Z" transform="translate(-2.51 -2.28)" /><path d="M275.7,7.25c-3.4,6.27-6.24,12-9.6,17.32-.69,1.11-3.34,1-5.09,1.44a17.31,17.31,0,0,1-.7-4c.15-2.44.69-4.86,1-7.29,1-7.22-.34-6.55,7.79-7.43C270.86,7.09,272.63,7.25,275.7,7.25Z" transform="translate(-2.51 -2.28)" /><path d="M70.92,100.45l-34.59,2.66c3.65-6.44,6.54-12,9.92-17.16.72-1.11,3.15-1.37,4.84-1.56,6.37-.71,12.76-1.33,19.16-1.79,2.53-.19,3.82-1.21,3.76-3.74-.08-2.91,1.38-4.08,4.18-4.3,7.26-.57,14.5-1.29,21.75-2l.37,1.14a13.47,13.47,0,0,0-2.66,1.94,19.12,19.12,0,0,0-1.87,3.24c1.06.4,2.14,1.19,3.17,1.11,8.3-.59,16.59-1.37,24.89-2.06s16.79-1.37,26.06-2.13c-.72,5.69-1.2,10.79-2.14,15.8-.15.83-2.24,1.71-3.5,1.84-13.71,1.4-27.44,2.65-41.16,4-1.5.14-3,.28-4.48.47-6,.79-6.18,1.09-5.74,8.31L139,102.42l.73,1.15c-5,5.67-9.7,11.53-15,16.86-1.32,1.33-4.39,1.06-6.68,1.28-7.47.73-14.95,1.37-22.43,2-5.75.48-6.31,1.19-5.31,7.92l65.24-5.45c-3.36,6.37-6.17,11.9-9.23,17.28-.45.81-2.07,1.22-3.2,1.32q-20.38,1.93-40.79,3.68l-66,5.75c-11,1.06-22,2-33.83,3,.74-5.82,1.25-11,2.23-16.18.15-.82,2.32-1.65,3.64-1.78,12.21-1.28,24.45-2.4,36.68-3.56,5.7-.54,11.41-1,17.12-1.58s6.18-1.09,5.6-7.8l-48.15,4c.73-5.75,1.19-10.73,2.11-15.62.17-.89,2.13-1.94,3.35-2.06,13.16-1.39,26.35-2.55,39.51-3.88C70.9,108.14,70.89,108,70.92,100.45Z" transform="translate(-2.51 -2.28)" /><path d="M48.88,29c3.73-6.64,6.71-12.09,9.91-17.41.42-.7,1.92-.94,3-1Q107.41,6.4,153.1,2.32c.79-.07,1.59,0,3.09,0-.65,5.95-1.17,11.58-1.87,17.19-1.77,14.08-3.71,28.15-5.34,42.25-.34,2.9-1.34,3.93-4.19,4.18-15.91,1.38-31.8,3-47.7,4.41Q61,73.52,24.89,76.5c-1.32.12-2.66,0-4.7,0,.8-6.39,1.55-12.55,2.33-18.7C24.2,44.55,26,31.29,27.51,18c.35-3.1,1.4-4.58,4.67-4.75,5.56-.29,11.1-1,17.46-1.54-.86,8.06-1.67,15.54-2.55,23.74,4.59-.34,8.74-.61,12.88-1,14.13-1.23,28.27-2.53,42.41-3.72a3.63,3.63,0,0,1,3.17,1.58l5.3-2.51.56,1c-4.94,5-9.5,10.48-15,14.8-2.3,1.81-6.51,1.35-9.88,1.67-12.36,1.17-24.73,2.24-37.1,3.35-4.73.42-4.92.68-4.37,6.41,4.56-.34,9.15-.64,13.72-1,21.75-1.91,43.5-3.89,65.25-5.73,3.52-.3,5.84-1.23,5-6L108.1,38.81l.12-1.47c1.47-.43,2.92-1,4.42-1.25,4.56-.85,9.12-1.74,13.72-2.34,3.34-.44,5.23-1.79,5.15-5.43a55.83,55.83,0,0,1,.69-6.64Z" transform="translate(-2.51 -2.28)" /><path d="M46.71,77.5,36,98a18.82,18.82,0,0,0-1.75,3.23c-2.19,7.64-7.72,9.63-14.93,9.27-3.19-.15-6.4.32-10.46.56,2.66-5.32,4.93-9.92,7.25-14.49,1.67-3.28,3.85-6.38,5-9.82,2.15-6.24,6.43-8.45,12.66-8.39C37.7,78.39,41.61,77.86,46.71,77.5Z" transform="translate(-2.51 -2.28)" /><path d="M128.81,119.28l11.64-13.65,1.15.44c-.43,3.93-.77,7.88-1.36,11.79a2.74,2.74,0,0,1-1.92,1.69c-2.92.45-5.88.63-8.83.91Z" transform="translate(-2.51 -2.28)" /><path d="M361.6,46c-.37,2.9-.64,5.77-1.19,8.58-.1.49-1.38,1-2.15,1.08-8.64.86-17.28,1.64-25.92,2.45-3.12.29-5.18,1.87-5.86,4.45-.83,3.09.54,5,3.73,4.83,3.87-.19,7.73-.63,11.6-1,2.22-.19,4.45-.45,6.68-.53,9.31-.32,14.09,5.45,11.94,14.54-2,8.42-7.34,13.8-15.85,15-10.27,1.41-20.66,2-31,2.93a8,8,0,0,1-1.19-.14c.4-3,.68-5.82,1.26-8.62.1-.49,1.41-1,2.2-1,7.91-.79,15.84-1.48,23.76-2.22a33.88,33.88,0,0,0,4.49-.61,6.2,6.2,0,0,0,5-4.79c.76-3.19-.7-5.07-4-4.86-4.78.31-9.56.89-14.35,1.14a36,36,0,0,1-9-.25c-4.6-.94-6.94-4.19-7.24-8.89-.59-9.35,5.92-18.07,15.29-19.33,10.28-1.39,20.67-2,31-2.93A5.34,5.34,0,0,1,361.6,46Z" transform="translate(-2.51 -2.28)" /><path d="M425.4,79.55c-.37,3-.65,5.55-1.09,8.11A1.85,1.85,0,0,1,423,88.72c-6.54.62-13.08,1.43-19.64,1.65-8.95.29-14.27-5.32-14-14.25.29-11.17,7.72-20,18.77-21.83a44.65,44.65,0,0,1,10.38-.65c7.05.49,11.24,5,11.62,12a53.61,53.61,0,0,1-.44,6.67c-.09,1.32-.75,1.85-2.14,2-8.25.7-16.49,1.51-24.73,2.32a7.33,7.33,0,0,0-1.74.6,7.65,7.65,0,0,0,.74,2c1.17,1.62,2.95,1.89,4.77,1.76,4.59-.32,9.17-.72,13.76-1.08C421.84,79.77,423.4,79.68,425.4,79.55Zm-23.17-12,.42.57c4.56-.4,9.12-.76,13.67-1.22a8.47,8.47,0,0,0,2.2-.87,12.66,12.66,0,0,0-1.28-2.32,3.07,3.07,0,0,0-1.71-.88c-3.66-.63-7.23-.34-10.4,1.74A18.22,18.22,0,0,0,402.23,67.57Z" transform="translate(-2.51 -2.28)" /><path d="M488.19,83V80c-4.33,3.31-9.21,4.26-14.27,4.57-5.66.36-9-1.13-10.5-4.74-1.88-4.45-.26-10.85,3.56-14.25a15.06,15.06,0,0,1,8.56-3.65c4.17-.49,8.36-.83,12.54-1.28.95-.1,2.36.27,2.3-1.4A2.28,2.28,0,0,0,488,56.85c-2.1,0-4.2.11-6.29.28-4.51.35-9,.77-14,1.2.39-3,.7-5.8,1.14-8.54,0-.31.79-.68,1.24-.72,7.07-.61,14.13-1.36,21.21-1.67,4.39-.19,8.05,1.67,9.63,6.07a14.39,14.39,0,0,1,.78,6.17c-.7,6.92-1.73,13.81-2.56,20.72-.16,1.31-.66,1.79-2,1.86C494.26,82.4,491.28,82.73,488.19,83Zm1.66-13.67-.63-.88c-4.14.5-8.3.87-12.41,1.59-.9.16-1.84,1.41-2.3,2.39a2,2,0,0,0,1.75,2.85c4.07.22,8.05-.28,11.42-2.78C488.66,71.78,489.14,70.4,489.85,69.33Z" transform="translate(-2.51 -2.28)" /><path d="M369.16,67.38l-6.45.33c.38-2.93.69-5.65,1.14-8.35.06-.38.75-.83,1.23-1a9.41,9.41,0,0,1,2.93-.34c2.14.19,2.66-1,2.81-2.8A57.12,57.12,0,0,1,371.7,49c.11-.58.67-1.46,1.12-1.51,3.24-.41,6.5-.64,10.09-1-.34,3.48-.65,6.7-1,10.22l8.47-.57c-.38,3-.7,5.81-1.17,8.61-.05.31-.92.61-1.44.68-1.89.25-3.81.29-5.67.64a2.4,2.4,0,0,0-1.58,1.49q-1,6.14-1.64,12.31c-.3,2.66.38,3.31,3,3.32h4.86c-.34,2.66-.64,5.37-1.09,8-.05.36-.81.81-1.29.86-2.8.33-5.62.67-8.44.8-5.84.25-9.13-3-8.71-8.79.35-5,1.15-9.92,1.74-14.88C369.07,68.74,369.1,68.17,369.16,67.38Z" transform="translate(-2.51 -2.28)" /><path d="M431,88.08c.1-1.12.14-2,.25-2.77,1.86-14.85,3.76-29.7,5.57-44.55.22-1.78.9-2.46,2.7-2.52,2.86-.09,5.71-.45,8.87-.73-.35,3-.63,5.62-1,8.26-1.67,13.16-3.39,26.3-5,39.46-.18,1.5-.76,2-2.2,2.07C437.25,87.46,434.27,87.79,431,88.08Z" transform="translate(-2.51 -2.28)" /><path d="M464.36,36.07c-.66,5.47-1.25,10.54-1.88,15.61-1.32,10.55-2.71,21.09-4,31.66-.21,1.77-.84,2.48-2.64,2.54-2.86.11-5.71.45-8.9.72.32-2.84.57-5.36.89-7.86,1.69-13.22,3.43-26.43,5.07-39.66.19-1.52.73-2.17,2.27-2.26C458.13,36.66,461.06,36.35,464.36,36.07Z" transform="translate(-2.51 -2.28)" /><path d="M503.16,81.67c.63-5,1.2-9.63,1.79-14.25.84-6.51,1.73-13,2.53-19.55.18-1.46.68-2.17,2.28-2.24,2.86-.13,5.71-.5,8.76-.79-.07,1.32-.12,2.28-.19,3.65,4.19-3.87,9-5,14.52-4.89-.42,3.1-.77,6.06-1.29,9-.07.39-.94.79-1.49.9-1.8.37-3.67.45-5.43.93-4.24,1.15-7,3.88-7.75,8.27-.85,5.18-1.5,10.4-2.08,15.63-.21,1.86-.92,2.58-2.81,2.63C509.2,81,506.41,81.4,503.16,81.67Z" transform="translate(-2.51 -2.28)" /><path d="M516.42,34.1l26.83-2.58c-.61,4.53-1.17,8.73-1.75,12.93-.27,2-.48,4.06-.91,6-.14.69-.84,1.27-1.29,1.89l-.73-.34c.84-6.33,1.68-12.65,2.56-19.31l-24.71,2.08Z" transform="translate(-2.51 -2.28)" /><path d="M477.89,35.28,543,29.22l0,.46-65.14,5.94Z" transform="translate(-2.51 -2.28)" /><path d="M299.64,113.32v-1.64c.18,1.69,1.38,1.21,2.35,1.13l25.47-2.3a.87.87,0,0,1,.78.25Z" transform="translate(-2.51 -2.28)" /><path d="M478.1,29.7l-.72,2.11-.18,0,.24-1.57-19.8,1.7,0-.26Z" transform="translate(-2.51 -2.28)" /><path d="M306.45,52.8c-.63,4.33-1.28,8.65-1.89,13-.44,3.17-.84,6.35-1.55,9.49.42-3.09.85-6.18,1.26-9.27.54-4,1.05-8,1.61-12a4.35,4.35,0,0,1,.57-1.14Z" transform="translate(-2.51 -2.28)" /><path d="M306.45,52.81c-.52-1.22-.19-1.76,1.21-1.86,3-.21,5.95-.56,9-.49-2.84.27-5.67.56-8.51.78-1,.08-1.85.23-1.67,1.55A0,0,0,0,1,306.45,52.81Z" transform="translate(-2.51 -2.28)" /><path d="M400.34,144c.86-6.89,1.66-13.47,2.5-20,.66-5.21,1.41-10.41,2-15.63a2.14,2.14,0,0,1,2.34-2.23c3-.17,6-.48,9.3-.77-1.17,9.42-2.29,18.51-3.46,27.93,1.91-.13,3.58-.2,5.25-.37,4.44-.46,8.9-.77,13.3-1.5a14.45,14.45,0,0,0,10.67-7.95,22.28,22.28,0,0,0,2.35-14.52c-.77-4.6-3.69-7.36-8.36-7.38-5,0-10,.48-14.94.84s-9.69.82-14.53,1.23a12.72,12.72,0,0,1-1.28-.07c.41-3,.77-5.92,1.24-8.8,0-.34.7-.79,1.11-.82,10.53-.88,21.07-2.29,31.61-2.37,10.84-.09,16.84,6.19,17.49,17,.69,11.4-3.28,20.9-12.59,27.82a28.56,28.56,0,0,1-14.5,5.2c-9.15.88-18.32,1.62-27.48,2.4C401.79,144.05,401.21,144,400.34,144Z" transform="translate(-2.51 -2.28)" /><path d="M554.05,80.8c-.72,5.88-1.38,11.34-2.1,17.26a20.78,20.78,0,0,1,11.89-4.67,25.88,25.88,0,0,1,4.13,0c5.69.48,9.43,4.11,9.63,9.81a68.78,68.78,0,0,1-.74,10c-.5,4.5-1.19,9-1.69,13.49a2,2,0,0,1-2.2,2.09c-3,.17-6,.53-9.11.83a20.85,20.85,0,0,1,0-2.4c.68-5.27,1.42-10.54,2.1-15.82a22.53,22.53,0,0,0,.22-3.93c-.14-2.77-1.59-4.17-4.34-4.39-6.3-.51-11,3.25-11.81,9.51-.71,5.41-1.44,10.82-2.06,16.23-.19,1.64-.78,2.39-2.52,2.46-2.88.1-5.75.44-9,.71.32-2.85.59-5.49.93-8.12,1.68-13.09,3.42-26.19,5-39.29.24-2,.76-3,3-3C548.18,81.52,550.91,81.09,554.05,80.8Z" transform="translate(-2.51 -2.28)" /><path d="M461.43,112c.39-3,.68-5.66,1.14-8.29a1.82,1.82,0,0,1,1.36-1c6.61-.64,13.21-1.29,19.84-1.7a15.88,15.88,0,0,1,5.79.82c4,1.32,6.5,4.88,6.11,9.77-.6,7.79-1.76,15.53-2.75,23.28a1.62,1.62,0,0,1-1,1.16c-3.24.4-6.49.66-9.84,1-.06-1.07-.1-1.84-.16-3-4.06,3.15-8.65,4.16-13.4,4.4a21.64,21.64,0,0,1-6.43-.5c-3.54-.9-5.49-3.7-5.7-7.41-.4-7.17,3.95-13.14,11-14.45,4.76-.88,9.65-1.12,14.47-1.7.93-.11,2.39.36,2.39-1.28a2.33,2.33,0,0,0-2.49-2.51c-3.41.09-6.82.36-10.22.61C468.3,111.38,465.1,111.68,461.43,112Zm21.72,10.3c-4,.41-7.84.76-11.66,1.21a3,3,0,0,0-2.06,1,5.61,5.61,0,0,0-1,3.33c.08.59,1.57,1.39,2.42,1.39a18.68,18.68,0,0,0,10.16-2.48A4.11,4.11,0,0,0,483.15,122.29Z" transform="translate(-2.51 -2.28)" /><path d="M496.84,135.58c.37-2.94.61-5.5,1.07-8a2.17,2.17,0,0,1,1.57-1.26c5.95-.62,11.91-1.13,17.86-1.69a10.75,10.75,0,0,0,3.86-.6c.92-.48,1.41-1.79,2.09-2.72-.88-.41-1.76-1.19-2.62-1.15-3.6.15-7.21.51-10.8.87-8.9.87-13.36-4.92-10-13.24A14.26,14.26,0,0,1,512,98.41c7.43-.89,14.92-1.37,22.38-2a7.25,7.25,0,0,1,1.09.12c-.35,2.78-.62,5.49-1.12,8.17-.08.42-1.19.86-1.87.93-6.21.63-12.43,1.16-18.64,1.76a3.89,3.89,0,0,0-2.22.6,3.81,3.81,0,0,0-1.15,2.45c0,.36,1.39,1.09,2.12,1,3.21-.17,6.41-.65,9.62-.81a25.71,25.71,0,0,1,6.45.31c3.88.82,6.11,3.87,6.19,7.84a14.28,14.28,0,0,1-12,14.3c-6,1-12,1.3-18,1.88C502.3,135.23,499.76,135.37,496.84,135.58Z" transform="translate(-2.51 -2.28)" /><path d="M357.92,132.8c.43-3.16.74-6.08,1.31-9,.09-.46,1.3-.93,2-1,6.21-.63,12.43-1.17,18.65-1.72,2.8-.25,5.61-.44,8.9-.7-.43,3.21-.78,6.23-1.31,9.22-.06.35-1.17.66-1.82.72-6.87.65-13.74,1.25-20.62,1.85C362.79,132.42,360.52,132.59,357.92,132.8Z" transform="translate(-2.51 -2.28)" /><path d="M544.76,145.17c.9-.46,1.76-1.26,2.7-1.34q18.25-1.72,36.53-3.24c1.5-.13,2.18-.55,2.37-2.15.54-4.63,1.3-9.23,1.89-13.86.16-1.22.61-1.79,2-1.64,0,.68-.07,1.32-.16,1.94-.73,5.21-1.52,10.4-2.18,15.62-.17,1.35-.85,1.71-2,1.82-7.86.68-15.71,1.4-23.57,2.1-5.75.51-11.51,1-17.27,1.49Z" transform="translate(-2.51 -2.28)" /><path d="M428.09,154.37c.7,1.69-.13,1.93-1.28,2q-12,1-23.92,2.15-7,.62-13.92,1.2c-.7.06-1.41,0-2.41,0,.47-3.62.92-7.11,1.39-10.59.19-1.43.48-2.85.59-4.28.1-1.25.66-1.59,2-1.22l-1.79,14.17Z" transform="translate(-2.51 -2.28)" /><path d="M541.51,144.46c-.48,1.88-1.78,2-3.12,2.15L509,149.11l-14,1.23c.2-1.82,1.41-2.07,2.74-2.18l17.46-1.56q12.27-1.08,24.53-2.13C540.23,144.42,540.82,144.46,541.51,144.46Z" transform="translate(-2.51 -2.28)" /><path d="M587.84,83.6c.16-1.48.31-3,.51-4.81L563.76,81l0-.35,24.88-2.26c-.2,2-.35,3.61-.51,5.21Z" transform="translate(-2.51 -2.28)" /><path d="M587.06,91.16l-1.32,10.25-.33,0,1.36-10.24Z" transform="translate(-2.51 -2.28)" /><path d="M374.29,144.5l-9.49.72,0-.72h9.53Z" transform="translate(-2.51 -2.28)" /><path d="M589.11,112.49c.34-2.56.67-5.13,1-7.7l.34,0c-.37,2.6-.73,5.19-1.09,7.79Z" transform="translate(-2.51 -2.28)" /></svg>
                    </Box>
                    <Tabs.Root
                        defaultValue={currentRoute}
                        value={currentRoute}
                        size="md"
                        variant="plain"
                        colorPalette="green"
                        onValueChange={handleValueChange}
                    >
                        <Tabs.List bg="bg.muted" width="100%"  >
                            {tabs.map((tab) => (
                                <>
                                    <Tabs.Trigger
                                        key={tab.id}
                                        value={tab.id}
                                        w="fit-content"
                                        padding="0 30px"
                                        fontWeight={"bold"}
                                        justifyContent="center"
                                    >
                                        <Box as={tab.icon} mr={0} />
                                        <span>{tab.label}</span>
                                    </Tabs.Trigger>
                                    
                                    <Separator orientation="vertical" height="6" alignSelf={"center"} />
                                </>
                            ))}
                            <Tabs.Indicator rounded="l2" />
                        </Tabs.List>
                    </Tabs.Root>
                    <Box w="fit-content" ml="15px">
                        <FinishConfigButton disabled={finishConfigDisabled}  />
                    </Box>

                </HStack>
                <HStack justifyContent="flex-end" >
                    <LanguageSwitcher />
                    {/* <ColorModeSwitcher /> */}
                </HStack>
            </HStack>


            <Flex direction="column" flex={1} height="100%">
                <Center flex={1}>
                    {children}
                </Center>
            </Flex>
        </Flex>
    );
} 